---
tags:
  - Java/ПодКапотом
---

![[Жизненный цикл Java-программы.png]]

Выполнение Java-программы проходит два ключевых этапа: **время компиляции (Compile Time)** и **время выполнения (Run Time)**. На каждом из них задействованы разные компоненты — **JDK** на этапе компиляции и **JVM** на этапе выполнения.

### Этап 1: Время компиляции (Compile Time)

На этапе компиляции используется **JDK (Java Development Kit)**. Программист пишет исходный код в файле с расширением `.java`. Далее в работу вступает **компилятор `javac`** — это часть JDK, предназначенная для преобразования исходного кода в байт-код.

Во время компиляции:
- Проверяется синтаксис и структура кода.
- Разрешаются ссылки на классы и методы из стандартных библиотек Java.
- При отсутствии ошибок создаётся **файл байт-кода** с расширением `.class`.

Этот `.class` файл содержит **байт-код** — промежуточное представление, независимое от операционной системы и архитектуры компьютера. Он не исполняется напрямую, а предназначен для запуска в среде JVM.

### Этап 2: Время выполнения (Run Time)

После компиляции начинается этап выполнения, на котором работает **JVM (Java Virtual Machine)** — основа платформенной независимости Java. JVM входит в состав **JRE (Java Runtime Environment)**, которая в свою очередь входит в JDK.

На этом этапе выполняются следующие действия:

#### Загрузка классов
Компонент **Class Loader** загружает `.class` файлы в память и формирует пространство классов.

#### Проверка байт-кода
Загруженный байт-код передаётся в **Bytecode Verifier**, который проверяет его корректность: соответствие спецификации JVM, безопасность ссылок и типизацию.

#### Интерпретация
Далее байт-код интерпретируется построчно встроенным **интерпретатором**, который исполняет инструкции по мере их считывания.

#### Компиляция "на лету" (JIT)
Для повышения производительности используется **JIT-компилятор (Just-In-Time)**. Он анализирует часто вызываемые участки кода и компилирует их в машинный код, что позволяет выполнять такие участки значительно быстрее.

#### Взаимодействие с ОС и оборудованием
JVM взаимодействует с операционной системой, а та — с **аппаратным обеспечением**. Таким образом, программа выполняется независимо от конкретной платформы. Одновременно работает **сборщик мусора (Garbage Collector)**, который управляет памятью, удаляя объекты, больше не используемые в программе.

---

>[!info]
>Таким образом:
>- **JDK** используется на этапе компиляции — для написания и преобразования кода.
>- **JVM (в составе JRE)** используется на этапе выполнения — для интерпретации и исполнения байт-кода.
>- Благодаря такому разделению и использованию байт-кода, Java-программы обладают уникальной особенностью — **кроссплатформенностью**, то есть возможностью выполнения на любой системе с установленной JVM, без необходимости повторной компиляции.
