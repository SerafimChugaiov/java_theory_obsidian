---
tags: Java/ООП
--- 
Методы (void) - действия, которые можно делать с данными объекта
[[Сигнатура и контракт метода]]
## Возвращение данных методами
Метод может возвращать определенный тип данный, например `int`.

Это значение может быть данными любого вида: как переменной простого типа, так и ссылочного. Слово `return` имеет прямое отношение к возвращаемому значению: значение, стоящее после него, будет отправлено назад, на место вызова метода, а сам же метод после `return` закроется. Это слово обычно идёт **в последней строке метода** (кроме методов с различными ветвлениями типа `if, else..`.). Если написать код в следующей строке после `return`:

```java
private String constructHelloSentence(String name) {
  String resultSentence = "Hello world! My name is " + name;
  return resultSentence;
}
```

## Перегрузка и переопределение
[[Перегрузка Java ]]
[[Переопределение Java]]

## Метод main
1. Точка входа: Метод `main` является точкой входа для запуска программы. Когда вы запускаете Java-приложение, виртуальная машина Java (JVM) ищет метод `main` в указанном классе и начинает выполнение программы с его вызова.
2. Модификаторы доступа и модификатор `static`: Метод `main` должен быть объявлен с модификатором доступа `public`, чтобы он мог быть доступен извне класса. Он также должен быть объявлен с модификатором `static`, что позволяет вызывать метод без создания экземпляра класса.
3. Параметр `args`: Параметр `args` представляет собой массив строк (`String[]`), который предоставляет аргументы командной строки, переданные при запуске программы. Вы можете использовать этот параметр для передачи дополнительной информации в программу при ее запуске.
4. Возвращаемый тип `void`: Метод `main` не возвращает никакого значения, поэтому его возвращаемый тип указывается как `void`.
5. Выполнение программы: Тело метода `main` содержит код, который будет выполнен при запуске программы. Здесь вы можете разместить основную логику вашей программы, вызывать другие методы, обрабатывать входные аргументы и т. д.
### Может ли быть несколько методов main?
Может, но выполняться будет только один, который указан при запуске.

Например, есть два класса:

**TestClass1.java**

```java
public class TestClass1{
    public static void main (String[] args){
        // 
    }
}
```

**TestClass2.java**

```java
public class TestClass2 {
    public static void main (String[] args){
        // 
    }
}
```
При компиляции будет создано два файла `TestClass1.class` и `TestClass2.class` (если будет два public класса в одном файле - компилятор выдаст ошибку `error: class TestClass2 is public, should be declared in a file named TestClass2.java`). А так как у нас будет создано два класса, то выполняться будет первым и единственным только тот `main`, который будет явно указан при старте:

Выполнение первого - `java TestClass1`

Выполнение второго - `java TestClass2`

В случае если у нас все упаковано в .jar файл, то там все равно должен быть указан `Main-Class`, метод `main` которого и будет запускаться
### Что если не будет ни одного метода main()
Веб сервер может сам выступать в роли метода main и сам запускать нужный код.
## Нативные методы
Реализуются на языке, отличном от Java (например С, С++...).
Плюсы: можно обратиться напрямую к операционной системе; возможность использования библиотек других языков, работать с памятью. Минусы: просадка производительности; теряется статическая типовая информация.
У нативных методов нет тела, также они содержат специальные ключевые слова
[В нативный код из уютного мира Java: путешествие туда и обратно (часть 1) / Хабр](https://habr.com/ru/company/jugru/blog/521672/)

## Дефолт методы
Применяются в интерфейсах, чтобы выполнять код, стандартный для всех классов, реализующих данный интерфейс. ДМ не требуют переопределения в классах и доступны всем объектам, реализующим данный интерфейс.

Чтобы метод, включенный в интерфейс, стал дефолтным необходимо использовать ключевое слово `default` в определении метода.
```java
public interface ComparePerimeter {
   //абстрактный метод
   double perimeter(); 
	//дефолтный метод
   default int comparePerimeters(ComparePerimeter figure){ 
       return Double.compare(perimeter(), figure.perimeter());
   };
}
```

### В чем разница передачи параметров по ссылке и по значению?
В Java все параметры **передаются только по значению**. Это значит, что когда мы передаём переменную в метод, на самом деле мы передаём **копию** её значения. Однако из-за особенностей работы с объектами у начинающих программистов часто возникает путаница.

**Разберёмся подробнее:**

**1. Примитивные типы (int, boolean, char и т.д.)**
Когда вы передаёте в метод примитив, вы передаёте **копию значения** этой переменной. Метод может изменять эту копию, но оригинал останется без изменений.

**Пример:**

```java
void changeValue(int number) {
    number = 100;
}

int x = 50;
changeValue(x);
System.out.println(x); // Выведет 50
```

**Объяснение:** метод `changeValue` получил копию значения `50` и изменил только её. Оригинальная переменная `x` осталась прежней.

**2. Объекты (например, классы, массивы и т.д.)**
Когда вы передаёте объект, Java тоже передаёт **копию значения**, но это значение — **ссылка на объект**. То есть метод получает копию ссылки и может использовать её, чтобы изменить **внутреннее состояние объекта**.

**Пример:**
```java
class Box {
    int value;
}

void modify(Box box) {
    box.value = 99;
}

Box myBox = new Box();
myBox.value = 10;
modify(myBox);
System.out.println(myBox.value); // Выведет 99
```

**Объяснение:** хотя передаётся копия ссылки, обе ссылки (внутри метода и снаружи) указывают на один и тот же объект в памяти. Поэтому изменения внутри объекта сохраняются.

Однако, если в методе попытаться присвоить переменной новый объект, это не повлияет на исходную переменную:
```java
void changeReference(Box box) {
    box = new Box();    // создаём новый объект
    box.value = 500;
}

Box myBox = new Box();
myBox.value = 100;
changeReference(myBox);
System.out.println(myBox.value); // Выведет 100, не 500
```

**Объяснение:** в этом случае меняется только **локальная копия ссылки**, а не оригинальная ссылка.

**То есть:**
- **Java всегда передаёт аргументы по значению.**
- **Для примитивов** это значит — передаётся копия самого значения.
- **Для объектов** — копия ссылки на объект, поэтому можно менять содержимое объекта, но не саму ссылку.