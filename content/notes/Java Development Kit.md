---
tags:
  - Java/ПодКапотом
aliases:
  - JDK
---
![[Структура JDK 2.png]]
**Java Development Kit (JDK)** — это полный комплект инструментов для разработки Java-программ, являющимся основным пакетом, используемым в Java, наряду с **JVM (Java Virtual Machine)** и **JRE** (Java Runtime Environment).

Новички часто путаются с JRE и JDK, если вас интересует только запуск программ Java на вашем компьютере, то вы можете легко сделать это с помощью Java Runtime Environment. Однако, если вы хотите разработать программное приложение на основе Java, то наряду с JRE вам могут понадобиться некоторые дополнительные необходимые инструменты, которые называются JDK.

## Структура JDK

![[Структура JDK.png]]
### JDK
**JDK** (Java Development Kit) – включает **JRE** (минимальная реализация **JVM**) и набор инструментов разработчика приложений на языке Java:

- **Компилятор JAVAC или Just In Time компилятор** - основной инструмент для преобразования исходного кода в байт-код.
- **Стандартные библиотеки классов Java (library)** - набор классов и пакетов, которые предоставляют основные возможности для работы с данными, файловой системой, сетью и многим другим.
- **Примеры и документация** - для понимания и использования стандартных библиотек.**
- **Различные утилиты** - программы для выполнения специализированных типовых задач, связанных с работой оборудования и операционной системы (ОС)
### JRE
JRE (Java Runtime Environment) – это минимально-необходимая реализация виртуальной машины для исполнения Java-приложений. В отличие от JDK, JRE не включает в себя инструменты для разработки, а только компоненты, которые позволяют запускать уже скомпилированные Java-программы.
**Основные компоненты JRE:**
- **Library** - набор стандартных классов Java, которые обеспечивают основные функциональные возможности.
- **ClassLoader** - механизм, который загружает байт-код из файлов .class в память.
- **Виртуальная машина Java (JVM)** — обеспечивает выполнение Java-программ, управляет памятью и выполняет байт-код.
#### JVM
**JVM** — это виртуальная машина, которая выполняет байт-код, созданный компилятором javac. Она не может работать с исходным кодом Java напрямую, поэтому нужно использовать JDK для компиляции кода. **Основная задача JVM** — обеспечить переносимость Java-программ (принцип "пишите один раз, запускайте везде").

**Основные функции JVM:**
- **Интерпретирует байт-код** - преобразует байт-код Java в команды, которые могут быть выполнены на конкретной платформе.
- **Загрузчик классов** - загружает классы в память для дальнейшего исполнения.
- **Метод area (методическая область)** - область памяти, в которой хранится информация о классе. Все классы используют одну область методов.
- **[[Стек и куча в Java#Java Heap память|Куча]]** - область памяти, где размещаются объекты. Каждый объект класса будет храниться в куче.
- **[[Стек и куча в Java#Stack память в Java|Stack]]** - область памяти, используемая для хранения временных переменных, связанных с выполнением методов.
>[!note]
>Интерпретация в Java означает, что байт-код выполняется виртуальной машиной (JVM) построчно, без предварительного преобразования в машинный код. Это позволяет программе быстро запускаться, так как не тратится время на компиляцию всего кода сразу. Однако интерпретированный код работает медленнее, чем скомпилированный, поэтому часто вызываемые участки позже оптимизируются JIT-компилятором.

#### Class loader
 [[Class loader]]
 
## Byte code
Теперь же нужно разобраться что такое байт-код и какая у него задача - [[Byte code]]

### JAVAC и JIT
**javac**:
`javac` - это компилятор Java, который используется для преобразования исходного кода на языке Java в байт-код (JVM). Когда вы пишете код на Java, вы создаете исходный код в файле с расширением `.java`. Затем вы используете `javac` для компиляции этого исходного кода в байт-код, который хранится в файлах с расширением `.class`. Эти файлы `.class` затем интерпретируются или компилируются Just-In-Time (JIT) компилятором в машинный код, который выполняется на конкретной платформе.

**JIT компилятор**:
JIT компилятор - это компонент виртуальной машины Java (JVM), который выполняет динамическую компиляцию байт-кода Java в **машинный код** во время выполнения программы. Когда Java-программа запускается, она сначала интерпретируется виртуальной машиной JVM. Однако для повышения производительности, чтобы уменьшить время выполнения программы, JIT компилятор может проанализировать участки кода, которые часто вызываются, и преобразовать их в машинный код. Этот процесс называется "Just-In-Time" компиляцией, потому что компиляция происходит непосредственно перед выполнением кода.
	**Когда начинает работать JIT компилятор?**
	На практике методы не компилируются при первом вызове. Для каждого метода виртуальная машина Java поддерживает счетчик вызовов, который увеличивается каждый раз при вызове метода. JVM интерпретирует метод, пока его счетчик вызовов не превысит **порог компиляции Just-In-Time**. Поэтому часто используемые методы [[Компилируемые и интерпретируемые языки|компилируются]] вскоре после запуска виртуальной машины Java, а менее используемые методы скомпилируются намного позже или вообще не выполняются. Порог компиляции Just-In-Time помогает быстрому запуску JVM и по-прежнему имеет улучшенную производительность. Порог был тщательно выбран для обеспечения оптимального баланса между временем запуска и долгосрочной эксплуатацией

>[!info]
>Таким образом, `javac` используется для статической компиляции исходного кода Java в байт-код, а JIT компилятор выполняет динамическую компиляцию байт-кода в машинный код во время выполнения программы на виртуальной машине Java.

## Процесс выполнения Java-программы
Подробное объяснение: [[Процесс выполнения Java-программы]]

## Раннее и позднее связывание

Подробное объяснение раннего и позднего связывания в Java, которое помогает понять, как JVM выбирает методы для вызова: [[Раннее и позднее связывание]]



## Так же темы:
- [[Стек и куча в Java]]
- [[Byte code]]
- [[Компилируемые и интерпретируемые языки]]

## Источники:
- [Разница между JDK, JRE и JVM / Ravesli](https://ravesli.com/jdk-jre-jvm-java/)